"use strict";(self.webpackChunkAVNON=self.webpackChunkAVNON||[]).push([[658],{6658:(w,d,l)=>{l.r(d),l.d(d,{BuilderComponent:()=>Q});var e=l(4650),_=l(6895),c=l(3903),v=l(7602),s=l(4006),x=l(3336),m=l(4144),f=l(6709),p=l(9030),g=l(9549);const h=["dialogTemplate"];function T(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function C(n,r){1&n&&(e.TgZ(0,"span",14)(1,"span"),e._uU(2,"This field is required."),e.qZA()())}function A(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",10)(2,"textarea",11,12),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.answer=i)}),e.qZA(),e.YNc(4,C,3,0,"span",13),e.qZA()()}if(2&n){const t=e.MAs(3),o=e.oxw().$implicit;e.xp6(2),e.Q6J("ngModel",o.answer),e.xp6(2),e.Q6J("ngIf",!o.answer&&o.isRequired&&(t.dirty||t.touched))}}function y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",15),e.NdJ("ngModelChange",function(i){const u=e.CHM(t).$implicit;return e.KtG(u.isSelect=i)}),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit,o=r.index;e.xp6(1),e.MGl("name","isSelect",o,""),e.Q6J("ngModel",t.isSelect),e.xp6(1),e.hij(" ",t.name," ")}}function M(n,r){if(1&n&&(e.TgZ(0,"div")(1,"ul"),e.YNc(2,y,3,3,"li",3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.formQuestions)}}function Z(n,r){if(1&n&&(e.TgZ(0,"div")(1,"h1",8),e._uU(2),e.YNc(3,T,2,0,"span",9),e.qZA(),e.YNc(4,A,5,2,"div",9),e.YNc(5,M,3,1,"div",9),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",t.question," "),e.xp6(1),e.Q6J("ngIf",t.isRequired),e.xp6(1),e.Q6J("ngIf","text"===t.type),e.xp6(1),e.Q6J("ngIf","check-box"===t.type)}}function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.selectType(a))}),e._uU(1),e.qZA()}if(2&n){const t=r.$implicit;e.Gre("px-5 py-2 border border-solid border-gray-400 cursor-pointer mb-2 rounded-sm text-center\n                    ",t.isSelected?"bg-black text-white":"",""),e.xp6(1),e.hij(" ",t.name," ")}}function E(n,r){if(1&n&&(e.ynx(0)(1,28),e.TgZ(2,"mat-form-field",29),e._UZ(3,"input",30),e.TgZ(4,"mat-error"),e._uU(5," This field is required. "),e.qZA()(),e.BQk()()),2&n){const t=r.$implicit,o=r.index;e.xp6(1),e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("placeholder","Enter question")("formControl",t.controls.name)}}function S(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"section",16)(1,"article",17)(2,"span",18),e._uU(3,"Add a new questions"),e.qZA()(),e.TgZ(4,"article",19)(5,"h6",20),e._uU(6,"Types"),e.qZA(),e.TgZ(7,"ul"),e.YNc(8,b,2,4,"li",21),e.qZA(),e.TgZ(9,"form",22)(10,"h6",20),e._uU(11,"Questions"),e.qZA(),e.ynx(12,23),e.YNc(13,E,6,3,"ng-container",3),e.BQk(),e.TgZ(14,"a",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fSvc.addFormGroup())}),e._uU(15," + Add another answer "),e.qZA(),e.TgZ(16,"mat-checkbox",25),e._uU(17," Allow user to specify their own answer "),e.qZA(),e.TgZ(18,"mat-checkbox",25),e._uU(19," This field is required "),e.qZA()()(),e.TgZ(20,"article",26)(21,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(22,"Submit"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.fSvc.questionType),e.xp6(1),e.Q6J("formGroup",t.fSvc.addQuestionForm),e.xp6(4),e.Q6J("ngForOf",t.fSvc.formArray.controls),e.xp6(1),e.Gre("underline inline-block ",t.fSvc.maxQuestions()?"pointer-events-none":"pointer-events-auto cursor-pointer text-blue-400",""),e.xp6(2),e.Q6J("formControl",t.fSvc.addQuestionForm.controls.isAllowUser),e.xp6(2),e.Q6J("formControl",t.fSvc.addQuestionForm.controls.isRequired)}}const B=function(){return["/form","answers"]};let Q=(()=>{var n;class r{constructor(o,i){this.matDialog=o,this._cdr=i,this.fSvc=(0,e.f3M)(v.o)}addNewQuestion(){this.matDialog.open(this.dialogTemplate),this.fSvc.questionType[0].isSelected=!0}selectType(o){o.isSelected||(this.fSvc.clearFormArray(),this.fSvc.questionType.some(i=>i.isSelected=!1),o.isSelected=!0)}setQuestion(){return"text"===this.fSvc.questionType.find(i=>i.isSelected).type?this.fSvc.formArray.at(0).value.name:"Please select the languages you know"}submit(){if(this.fSvc.formArray.value.forEach((i,a)=>{this.fSvc.validateFormArray(a)}),this.fSvc.formArray.invalid)return;const o={question:this.setQuestion(),answer:"",type:this.fSvc.questionType.find(i=>i.isSelected).type,isAllowUser:this.fSvc.addQuestionForm.controls.isAllowUser.value,isRequired:this.fSvc.addQuestionForm.controls.isRequired.value,formQuestions:this.fSvc.formArray.getRawValue()};this.fSvc.questionList.push(o),this.fSvc.clearFormArray(),this.matDialog.closeAll(),this._cdr.detectChanges(),this.fSvc.questionType.some(i=>i.isSelected=!1)}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(c.uw),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-builder"]],viewQuery:function(o,i){if(1&o&&e.Gf(h,5),2&o){let a;e.iGM(a=e.CRH())&&(i.dialogTemplate=a.first)}},standalone:!0,features:[e.jDz],decls:13,vars:3,consts:[[1,"flex","items-center","w-full","h-full","justify-center"],[1,"border","border-solid","border-gray-400","rounded-sm","p-3","max-w-md","w-full","max-h-[600px]","h-full"],[1,"flex","flex-col","h-full","w-full"],[4,"ngFor","ngForOf"],[1,"underline","cursor-pointer",3,"click"],[1,"mt-3","text-right"],["type","button",1,"py-3","px-6","bg-black","hover:bg-black","focus:bg-black","text-white","rounded-md",3,"routerLink"],["dialogTemplate",""],[1,"font-bold"],[4,"ngIf"],["appearance","outline",1,"w-full","mat-form-field-custom"],["matInput","","name","answer","maxlength","500",3,"ngModel","ngModelChange"],["answer","ngModel"],["class","inline-block text-red-500 absolute left-0 top-full",4,"ngIf"],[1,"inline-block","text-red-500","absolute","left-0","top-full"],[1,"w-full","mb-1",3,"name","ngModel","ngModelChange"],[1,"confirm-dialog"],["mat-dialog-title","",1,"mat-dialog-title"],[1,"text"],["mat-dialog-content",""],[1,"font-semibold","mb-3"],[3,"class","click",4,"ngFor","ngForOf"],[3,"formGroup"],["formArrayName","formQuestions"],[3,"click"],[1,"w-full","mb-1",3,"formControl"],["mat-dialog-actions",""],["mat-button","",1,"mat-button","py-3","px-6","bg-black","hover:bg-black","focus:bg-black","text-white","rounded-md","ml-auto",3,"click"],[3,"formGroupName"],["appearance","outline",1,"w-full","mb-3"],["matInput","","autocomplete","off",3,"placeholder","formControl"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e.YNc(4,Z,6,4,"div",3),e.TgZ(5,"div")(6,"a",4),e.NdJ("click",function(){return i.addNewQuestion()}),e._uU(7," Add New Question "),e.qZA()()(),e.TgZ(8,"div",5)(9,"button",6),e._uU(10," Review my answers > "),e.qZA()()()()(),e.YNc(11,S,23,8,"ng-template",null,7,e.W1O)),2&o&&(e.xp6(4),e.Q6J("ngForOf",i.fSvc.questionList),e.xp6(5),e.Q6J("routerLink",e.DdM(2,B)))},dependencies:[_.ez,_.sg,_.O5,c.Is,c.uh,c.xY,c.H8,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.oH,s.sg,s.x0,s.CE,x.Ps,m.c,m.Nt,g.KE,g.TO,f.p9,f.oG,s.u5,s.On,p.Bz,p.rH],encapsulation:2}),r})()}}]);